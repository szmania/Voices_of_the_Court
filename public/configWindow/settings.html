<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title data-i18n="app.title">Voices of the Court - Community Edition</title>
  <link rel="stylesheet" href="config.css" />
  <link rel="stylesheet" href="../chatWindow/theme.css" />

  

</head>

<body>
  <div class="navbar">
    <ul>
      <li><a href="connection.html" data-i18n="nav.connection">Connection</a></li>
      <li><a href="actions.html" data-i18n="nav.actions">Actions</a></li>
      <li><a href="summarization.html" data-i18n="nav.summarization">Summarization</a></li>
      <li><a href="prompts.html" data-i18n="nav.prompts">Prompts</a></li>
      <li class="active"><a href="settings.html" data-i18n="nav.settings">Settings</a></li>
      <li><a href="system.html" data-i18n="nav.system">System</a></li>
      <li class="help-menu"><a href="#" id="open-readme" data-i18n="nav.help">Help</a></li>
      <language-selector></language-selector>
    </ul>
  </div>

  <div class="container" id="container">

    <div class="row">
      <div class="column" style="flex: 65%; width: 65%;">

        <h2 data-i18n="settings.header">Settings</h2>

        <div class="border">
          <div class="input-group">
            <div class="row">
              <div class="column">
                <config-number confID="maxTokens" min="0" max="4084" data-i18n="settings.max_tokens"></config-number>
              </div>
              <div class="column">
                <config-number confID="maxMemoryTokens" min="0" max="4084" data-i18n="settings.max_memory_tokens"></config-number>
              </div>
            </div>
            
            <hr>

            <div class="row">
              <div class="column">
                <config-checkbox confID="stream" data-i18n="settings.stream"></config-checkbox>
              </div>

              <div class="column">
                <config-checkbox confID="cleanMessages" data-i18n="settings.clean_messages"></config-checkbox> <tooltip-text side="top" data-i18n="settings.clean_tooltip"></tooltip-text>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="column">
                <config-checkbox confID="shuffleCharacterOrder" data-i18n="settings.shuffle_order"></config-checkbox> <tooltip-text side="top" data-i18n="settings.shuffle_tooltip"></tooltip-text>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="column">
                <config-checkbox confID="dynamicCharacterSelection" data-i18n="settings.dynamic_selection"></config-checkbox> <tooltip-text side="top" data-i18n="settings.dynamic_tooltip"></tooltip-text>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="column">
                <config-checkbox confID="validateCharacterIdentity" data-i18n="settings.validate_identity"></config-checkbox> <tooltip-text side="top" data-i18n="settings.validate_tooltip"></tooltip-text>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="column">
                <config-checkbox confID="showSuggestionsButton" data-i18n="settings.show_suggestions"></config-checkbox> <tooltip-text side="top" data-i18n="settings.show_suggestions_tooltip"></tooltip-text>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="column">
                <config-checkbox confID="disableHistoricalConversations" data-i18n="settings.disable_historical"></config-checkbox> <tooltip-text side="top" data-i18n="settings.disable_historical_tooltip"></tooltip-text>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="column">
                <config-checkbox confID="generateSceneDescription" data-i18n="settings.generate_scene"></config-checkbox> <tooltip-text side="top" data-i18n="settings.generate_scene_tooltip"></tooltip-text>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="column">
                <config-checkbox confID="autoGenerateSuggestions" data-i18n="settings.auto_suggestions"></config-checkbox> <tooltip-text side="top" data-i18n="settings.auto_suggestions_tooltip"></tooltip-text>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="column">
                <config-checkbox confID="autoSendSuggestion" data-i18n="settings.auto_send"></config-checkbox> <tooltip-text side="top" data-i18n="settings.auto_send_tooltip"></tooltip-text>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="column">
                <config-number confID="summariesInsertDepth" min="0" max="20" data-i18n="settings.summaries_depth"></config-number>
              </div>
              <div class="column">
                <config-number confID="memoriesInsertDepth" min="0" max="20" data-i18n="settings.memories_depth"></config-number>
              </div>
            </div>
            <div class="row">
              <div class="column">
                <config-number confID="descInsertDepth" min="0" max="20" data-i18n="settings.desc_depth"></config-number>
              </div>
              <div class="column">
                <config-checkbox confID="aiCanStartConversation" data-i18n="settings.ai_start"></config-checkbox>
                <config-number confID="aiStartConversationChance" min="0" max="1" step="0.01" style="width: 100%;" data-i18n="settings.ai_start_chance"></config-number>
              </div>
            </div>
          </div>  
        </div>
        <br>

        <h2 data-i18n="settings.instruct_header">Instruct settings</h2>

        <div class="border">
          
          <div class="row">
            <div class="column">
              <config-text confID="inputSequence" data-i18n="settings.input_seq"></config-text>
            </div>
            <div class="column">
              <config-text confID="outputSequence" data-i18n="settings.output_seq"></config-text>
            </div>
          </div>

        </div>

      </div>
      <div class="column">

        <h2 data-i18n="settings.text_gen_params">Text-generation parameters</h2>

        

        <parameters-box confID="textGenerationApiConnectionConfig" tempDefault="0.8" freqPenDefault ="0" presPenDefault="0" topPDefault="0.9"></parameters-box>

       


      </div>
    </div>

  </div>





  <script>require("../../dist/shared/LocalizationManager.js")</script>
  <script>
    const { LocalizationManager } = require("../../dist/shared/LocalizationManager.js");
    window.LocalizationManager = LocalizationManager;
  </script>
  <script>require("../../dist/configWindow/components/LanguageSelector.js")</script>
  <script>require("../../dist/configWindow/components/ConfigCheckbox.js")</script>
  <script>require("../../dist/configWindow/components/ConfigText.js")</script>
  <script>require("../../dist/configWindow/components/ConfigNumber.js")</script>
  <script>require("../../dist/configWindow/components/ConfigSlider.js")</script>
    <script>require("../../dist/configWindow/components/ParametersBox.js")</script>
  <script>require("../../dist/configWindow/components/tooltip.js")</script>
  <script>require("../../dist/configWindow/modelSettingsRenderer.js")</script>
  
  <script>
    // 添加帮助菜单点击事件
    document.addEventListener('DOMContentLoaded', function() {
      const openReadmeBtn = document.getElementById('open-readme');
      if (openReadmeBtn) {
        openReadmeBtn.addEventListener('click', function(e) {
          e.preventDefault();
          const { ipcRenderer } = require('electron');
          ipcRenderer.send('open-readme-window');
        });
      }
    });
  </script>
  
</body>

</html>

<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Voices of the Court</title>
    <link rel="stylesheet" href="config.css" />
    
  </head>
  <body>
    <div class="navbar">
      <ul>
        <li><a href="connection.html">Connection</a></li>
        <li><a href="actions.html">Actions</a></li>
        <li><a href="summarization.html">Summarization</a></li>
        <li class="active"><a href="prompts.html">Prompts</a></li>
        <li ><a href="settings.html">Settings</a></li>
        <li><a href="system.html">System</a></li>
        <li class="help-menu"><a href="#" id="open-readme">Help</a></li>
      </ul> 
    </div>

    <div class="container" id="container">
        <div class="row">
            <div class="column">

                <h2>Prompts</h2>

                <div class="border" id="prompt-options">
                    
                    <div class="input-group">
                        Main prompt
                        <config-textarea confID="mainPrompt" rows="6"></config-textarea>
                    </div>

                    <div class="input-group">
                        Self-Talk Prompt
                        <config-textarea confID="selfTalkPrompt" rows="6"></config-textarea>
                    </div>

                    <div class="input-group">
                      Summarize prompt
                      <config-textarea confID="summarizePrompt" rows="6"></config-textarea>
                    </div>

                    <div class="input-group">
                        Self-Talk Summarize prompt
                        <config-textarea confID="selfTalkSummarizePrompt" rows="6"></config-textarea>
                    </div>

                    <div class="input-group">
                      Memories prompt
                      <config-textarea confID="memoriesPrompt" rows="2"></config-textarea>
                    </div>

                    <div class="input-group">
                        <config-checkbox id="suffix-prompt-checkbox" confID="enableSuffixPrompt" label="Suffix prompt"></config-checkbox> <tooltip-text side="top">If enabled, suffix prompt is inserted as the last (system) message before sending the API request, it's useful for jailbreaking, or instructing the model on how to format the response message.</tooltip-text>
                        <config-textarea id="suffix-prompt-textarea" confID="suffixPrompt" rows="6"></config-textarea> 
                    </div>

                    <div class="input-group">
                        Narrative prompt
                        <tooltip-text side="top">This prompt is used to generate AI narrative descriptions after actions are triggered. The narrative provides atmospheric descriptions of events in the game.</tooltip-text>
                        <config-textarea confID="narrativePrompt" rows="6"></config-textarea>
                    </div>

                    <div class="input-group">
                        Scene Description prompt
                        <tooltip-text side="top">This prompt is used to generate the initial scene description at the start of conversation. It provides background and atmosphere for character interactions.</tooltip-text>
                        <config-textarea confID="sceneDescriptionPrompt" rows="6"></config-textarea>
                    </div>
                </div>
                
                <div class="input-group" style="margin-top: 20px;">
                    <button type="button" id="restore-default-prompts" class="btn-warning">üîÑ ÊÅ¢Â§çÈªòËÆ§Prompt</button>
                    <tooltip-text side="top">ÁÇπÂáªÊ≠§ÊåâÈíÆÂ∞ÜÊâÄÊúâpromptÊÅ¢Â§ç‰∏∫ÈªòËÆ§ÂÄº</tooltip-text>
                </div>
                
            </div>
            <div class="column">

              <br></br>
                <h2 style="display: inline;">Scripts</h2> <tooltip-text side="bottom">Some prompts are too advanced to be made up by static texts, they require script files that dynamically writes the prompts based on the ingame variables.</tooltip-text>
                <br></br>
                <div id="script-selectors" class="border">
      
                  <div class="input-group">
                    <button type="button">üîÑ Reload files</button>
                  </div>
                  
                  <div class="input-group">
                    <label for="description-script-select">Character Description script</label>
                    <select id="description-script-select"></select>
                    <open-folder-button path="scripts/prompts/description/" label="open folder"></open-folder-button>
                  </div>
      
                  <div class="input-group">
                    <label for="example-messages-script-select">Example messages script</label>
                    <select id="example-messages-script-select">
                      
                    </select>
                    <open-folder-button path="scripts/prompts/example messages/" label="open folder"></open-folder-button>
                    
                  </div>
                  
                  <div class="input-group">
                    <label for="bookmark-script-select">Bookmarks</label>
                    <select id="bookmark-script-select">
                      
                    </select>
                    <open-folder-button path="scripts/bookmarks/" label="open folder"></open-folder-button>
                    
                  </div>
                  
                  
                </div>
      
            </div>
        </div>
      

    </div>
    
   

    <script>require("../../dist/configWindow/components/openFolderButton.js")</script>
    <script>require("../../dist/configWindow/components/tooltip.js")</script>
    <script>require("../../dist/configWindow/components/configCheckbox.js")</script>
    <script>require("../../dist/configWindow/components/configTextarea.js")</script>
    <script>require("../../dist/configWindow/promptsRenderer.js")</script>
    
    <script>
      // Ê∑ªÂä†Â∏ÆÂä©ËèúÂçïÁÇπÂáª‰∫ã‰ª∂
      document.addEventListener('DOMContentLoaded', function() {
        const openReadmeBtn = document.getElementById('open-readme');
        if (openReadmeBtn) {
          openReadmeBtn.addEventListener('click', function(e) {
            e.preventDefault();
            const { ipcRenderer } = require('electron');
            ipcRenderer.send('open-readme-window');
          });
        }
      });
    </script>
  </body>
</html>

<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Voices of the Court</title>
    <link rel="stylesheet" href="config.css" />

  </head>
  <body>
    <div class="navbar">
      <ul>
        <li><a href="connection.html">Connection</a></li>
        <li><a href="actions.html">Actions</a></li>
        <li><a href="summarization.html">Summarization</a></li>
        <li><a href="prompts.html">Prompts</a></li>
        <li><a href="settings.html">Settings</a></li>
        <li class="active"><a href="system.html">System</a></li>
        <li class="help-menu"><a href="#" id="open-readme" data-i18n="nav.help">Help</a></li>
        <language-selector></language-selector>
      </ul> 
    </div>

    <div class="container" id="container">

      <div class="row">
        <div class="column">
          <div class="border">
            <h3>Update</h3>
            <span id="app-version">Current app version: </span><br>
            <button id="update-button" type="button">Check for updates..</button>
            <br><br>
            <config-checkbox confID="checkForUpdatesOnStartup" label="Check for updates on startup"></config-checkbox>
            <tooltip-text side="right">VOTC - Community Edition will automatically check for new versions when the application starts.</tooltip-text>
            <br>
            <config-checkbox confID="earlyAccessUpdates" label="Early Access"></config-checkbox>
            <tooltip-text side="right">VOTC - Community Edition will automatically be updated to pre-release versions as well.</tooltip-text>

            <hr>

            <h3>Theme Selection</h3>
            <p>Choose your preferred UI theme:</p>
            <select id="theme-selector">
              <option value="original">Original UI</option>
              <option value="chinese">中式 UI</option>
              <option value="west">West UI</option>
            </select>

            <hr>

            <h3>Log files</h3>
            <p>If you experience errors/crashes, send the logs to our discord server</p>
            <open-folder-button path="logs" label="open log files folder"></open-folder-button>
          </div>
        </div>
        <div class="column">
          <div class="border">
            <h3>Clear conversation summaries</h3>
            <p>This will delete the summaries of previous conversations of all characters</p>
            <button type="button" id="clear-summaries">Clear Summaries</button>
            <br><br>
            <open-folder-button path="conversation_summaries" label="Open conversation summaries folder"></open-folder-button>
          </div>
        </div>
      </div>  

    </div>
    
   
    <script>require("../../dist/shared/LocalizationManager.js")</script>
    <script>
      const { LocalizationManager } = require("../../dist/shared/LocalizationManager.js");
      window.LocalizationManager = LocalizationManager;
    </script>
    <script>require("../../dist/configWindow/components/openFolderButton.js")</script>
    <script>require("../../dist/configWindow/components/LanguageSelector.js")</script>
    <script>require("../../dist/configWindow/components/ConfigCheckbox.js")</script>
    <script>require("../../dist/configWindow/components/tooltip.js")</script>
    <script>require("../../dist/configWindow/systemRenderer.js")</script>
    
    <script>
      // 添加帮助菜单点击事件
      document.addEventListener('DOMContentLoaded', function() {
        const openReadmeBtn = document.getElementById('open-readme');
        if (openReadmeBtn) {
          openReadmeBtn.addEventListener('click', function(e) {
            e.preventDefault();
            const { ipcRenderer } = require('electron');
            ipcRenderer.send('open-readme-window');
          });
        }
      });
    </script>
    
  </body>
</html>
